<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>      
        <!-- Formulario de Pago -->   
        <record id="add_payment_bank_view" model="ir.ui.view">
            <field name="name">add.payment.bank.view</field>
            <field name="model">account.payment</field>           
            <field name="inherit_id" ref="account.view_account_payment_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='payment_date']" position="after">   
                    <field name="Banco_asociado"/>
                </xpath>
            </field>
        </record>
        <!-- Pago que se abre desde la Factura -->
        <record id="add_payment_invoice_bank_view" model="ir.ui.view">
            <field name="name">add.payment.invoice.bank.view</field>
            <field name="model">account.payment</field>           
            <field name="inherit_id" ref="account.view_account_payment_invoice_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='payment_method_id']" position="after">   
                    <field name="Banco_asociado"/>
                </xpath>
            </field>
        </record>
        
<!--        El default se agrega por el momento en la vista directamente, en el botÃ³n con el contexto o en la vista que agrega el campo se pone todo el xpath-->
<!--        <record id="add_context_payment" model="ir.ui.view">
            <field name="name">add.context.payment</field>
            <field name="model">account.invoice</field>           
            <field name="inherit_id" ref="l10n_mx_edi.view_l10n_mx_edi_invoice_form_inherit"/>
            <field name="arch" type="xml">
                <xpath expr="//xpath[@position='inside']" position="after">   
                    <button name="277" id="account_invoice_payment_btn" type="action" states="open" string="Registrar Pago" groups="account.group_account_invoice" class="oe_highlight" context="{'default_Banco_asociado': l10n_mx_edi_partner_bank_id}"/>
                </xpath>
            </field>
        </record>-->
        <!--        <record id="add_context_payment" model="ir.ui.view">
            <field name="name">add.context.payment</field>
            <field name="model">account.invoice</field>           
            <field name="inherit_id" ref="account.invoice_form"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@id='account_invoice_payment_btn']" position="replace">   
                    <button name="277" id="account_invoice_payment_btn" type="action" states="open" string="Registrar Pago" groups="account.group_account_invoice" class="oe_highlight" context="{'default_Banco_asociado': l10n_mx_edi_partner_bank_id}"/>
                </xpath>
            </field>
        </record>    -->
        
    </data>
</odoo>